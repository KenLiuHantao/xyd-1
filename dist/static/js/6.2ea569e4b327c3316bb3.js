webpackJsonp([6],{EfCm:function(t,e){},wZe6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),n=a("exGp"),l=a.n(n),o=a("n1HS"),c=a.n(o),r={data:function(){return{qr_bg:c.a,loading:!1,article:{},initData:{},isDetail:!1,activeName:"hots",dia_show:!1,dia_type:"qq",pageSize:13,pageIndex:1,totals:0,showData:[],pageShow:!1}},mounted:function(){var t=this.$route.query.news_id||!1;this.isDetail=t,this.activeName="news"===this.newsType?"hots":"newbie",t?this.getArticle(t):this.getInfo()},beforeRouteUpdate:function(t,e,a){t.query.news_id?(this.getArticle(t.query.news_id),this.isDetail=!0):("gonglve"===this.newsType&&(this.activeName="newbie"),"news"===this.newsType&&(this.activeName="hots"),console.log(this.newsType,this.activeName),this.isDetail=!1,this.getInfo()),a()},computed:{newsType:function(){return this.$route.query.type||"news"}},methods:{getArticle:function(t){var e=this;return l()(i.a.mark(function a(){var s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,e.$http.jsonp(z.jsonp+"/home/getArticle?id="+t);case 3:s=a.sent,e.article=s.data.data,e.loading=!1;case 6:case"end":return a.stop()}},a,e)}))()},getInfo:function(){var t=this;return l()(i.a.mark(function e(){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$http.jsonp(z.jsonp+"/home/getLists");case 3:a=e.sent,s=a.data.list,t.initData=s,t.getShowList(),t.loading=!1;case 8:case"end":return e.stop()}},e,t)}))()},getShowList:function(){var t=this.initData[this.activeName],e=(this.pageIndex-1)*this.pageSize,a=this.pageSize*this.pageIndex;this.pageShow=t.length>this.pageSize,this.totals=t.length?t.length:0,this.showData=t.length?t.slice(e,a):[]},openDia:function(t){this.dia_show=!0,this.dia_type=t},gotoIdx:function(t){this.$router.push("/wap/"+t)},changePage:function(t){this.pageIndex=t,this.getShowList()}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wap_news"},[a("div",{staticClass:"w_title flex f_j_s"},[t.isDetail?t._e():a("h2",{staticClass:"flex",on:{click:function(e){t.gotoIdx("index")}}},[a("i",{staticClass:"el-icon-arrow-left"}),t._v("官方首页")]),t._v(" "),t.isDetail?a("h2",{staticClass:"flex",on:{click:function(e){t.gotoIdx("news")}}},[a("i",{staticClass:"el-icon-arrow-left"}),t._v("返回列表")]):t._e(),t._v(" "),t.isDetail?t._e():a("h3",{staticClass:"flex"},[t._v(t._s("gonglve"===t.newsType?"游戏攻略":"新闻资讯"))])]),t._v(" "),a("div",{staticClass:"w_cnt"},["news"!==t.newsType||t.isDetail?t._e():a("el-tabs",{on:{"tab-click":t.getShowList},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"热点",name:"hots"}},[a("news-item",{attrs:{ispc:!1,list:t.showData,maxShow:0,label:"热点"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"新闻",name:"news"}},[a("news-item",{attrs:{ispc:!1,list:t.showData,maxShow:0,label:"新闻"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"活动",name:"activities"}},[a("news-item",{attrs:{ispc:!1,list:t.showData,maxShow:0,label:"活动"}})],1)],1),t._v(" "),"gonglve"!==t.newsType||t.isDetail?t._e():a("el-tabs",{on:{"tab-click":t.getShowList},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"新手教学",name:"newbie"}},[a("news-item",{attrs:{ispc:!1,list:t.showData,maxShow:0,label:"新手教学"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"高手进阶",name:"geek"}},[a("news-item",{attrs:{ispc:!1,list:t.showData,maxShow:0,label:"高手进阶"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"国战咨询",name:"war"}},[a("news-item",{attrs:{ispc:!1,list:t.showData,maxShow:0,label:"国战咨询"}})],1)],1),t._v(" "),t.pageShow?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totals,"page-size":t.pageSize},on:{"current-change":t.changePage}}):t._e(),t._v(" "),t.isDetail?a("div",{staticClass:"news_article"},[a("h3",{staticClass:"w_d_title"},[t._v(t._s(t.article.title))]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.article.content)}})]):t._e(),t._v(" "),t.isDetail?a("h2",{staticClass:"flex",on:{click:function(e){t.gotoIdx("news")}}},[a("i",{staticClass:"el-icon-arrow-left"}),t._v("返回列表")]):t._e()],1),t._v(" "),a("feet",{attrs:{type:"#000",ispc:!1}})],1)},staticRenderFns:[]};var p=a("VU/8")(r,h,!1,function(t){a("EfCm")},null,null);e.default=p.exports}});
//# sourceMappingURL=6.2ea569e4b327c3316bb3.js.map